/*
 MIT
*/
(function(){function m(a,b,c){if("hls"===c){if(n){b();return}g.push(b);if(p)return;p=!0}else{if(q){b();return}h.push(b);if(r)return;r=!0}b=document.createElement("script");b.src=a;b.async=!0;b.onload=function(){if("hls"===c){n=!0;var a=g;g=[]}else q=!0,a=h,h=[];for(var b=0;b<a.length;b++)a[b]()};b.onerror=function(){console.warn("[CustomVideoPlayer] Failed to load "+a)};document.head.appendChild(b)}function k(a){if(!isFinite(a)||0>a)return"0:00";var b=Math.floor(a/3600),c=Math.floor(a%3600/60);a=
Math.floor(a%60);return 0<b?b+":"+(10>c?"0"+c:String(c))+":"+(10>a?"0"+a:String(a)):c+":"+(10>a?"0"+a:String(a))}function e(a){if(a&&a.querySelector){var b=a.querySelector("video");if(b){this.wrapper=a;this.video=b;b=a.querySelector("[data-controls]");var c=a.querySelector("[data-play]"),d=a.querySelector("[data-play-overlay]"),u=a.querySelector("[data-progress-wrap]"),e=a.querySelector("[data-progress]"),v=a.querySelector("[data-mute]"),f=a.querySelector("[data-volume]"),t=a.querySelector("[data-fullscreen]"),
g=a.querySelector("[data-cc]"),h=a.querySelector("[data-quality]"),k=a.querySelector("[data-time]"),l=a.querySelector("[data-loading]"),m=a.querySelector("[data-error]"),n=a.querySelector("[data-captions]"),p=a.querySelector("[data-captions-menu]");a=a.querySelector("[data-quality-menu]");this.controls=b;this.play_btn=c;this.play_overlay=d;this.progress_wrap=u;this.progress_input=e;this.mute_btn=v;this.volume_input=f;this.fullscreen_btn=t;this.cc_btn=g;this.quality_btn=h;this.time_display=k;this.loading_element=
l;this.error_element=m;this.captions_display=n;this.captions_menu=p;this.quality_menu=a;this._progress_dragging=!1;this._bound_handlers={};this._text_tracks=[];this._mouse_move_timeout=this._controls_timeout=this._active_track=null;this._quality_levels=[];this._active_quality=-1;this._skeleton_removed=!1;this._audio_tracks=[];this._active_audio_track=-1;this.audio_menu=this.audio_btn=null;this.progress_wrap&&this._init_progress_visuals();this._dash_instance=this._hls_instance=null;this._bind_handlers();
this._attach_listeners();this._init_stream();this._init_text_tracks();this._init_audio_tracks();this._sync_ui();3<=this.video.readyState&&this._remove_skeleton(!0)}}}function l(){for(var a=document.querySelectorAll("[data-player]"),b=0;b<a.length;b++){var c=a[b];if(c&&!c._custom_video_player){var d=new e(c);d.video&&(c._custom_video_player=d)}}}var p=!1,r=!1,n=!1,q=!1,g=[],h=[];e.prototype._init_progress_visuals=function(){if(this.progress_wrap&&!this.progress_wrap.querySelector(".video-player-progress-track")){var a=
document.createElement("div");a.className="video-player-progress-track";var b=document.createElement("div");b.className="video-player-progress-buffered";b.setAttribute("data-buffered","");var c=document.createElement("div");c.className="video-player-progress-played";c.setAttribute("data-played","");a.appendChild(b);a.appendChild(c);this.progress_input?this.progress_wrap.insertBefore(a,this.progress_input):this.progress_wrap.appendChild(a);this.buffered_bar=b;this.played_bar=c}};e.prototype._init_stream=
function(){var a=this.video,b=a.getAttribute("src")||a.getAttribute("data-src")||"";b||(a=a.querySelector("source"))&&(b=a.getAttribute("src")||"");b?(a=b.split("?")[0].toLowerCase(),a=-1!==a.indexOf(".m3u8")?"hls":-1!==a.indexOf(".mpd")?"dash":"native"):a="native";"hls"===a?this._init_hls(b):"dash"===a&&this._init_dash(b)};e.prototype._init_hls=function(a){var b=this.video,c=this;b.canPlayType("application/vnd.apple.mpegurl")||b.canPlayType("application/x-mpegURL")?b.src=a:m("https://cdn.jsdelivr.net/npm/hls.js@latest/dist/hls.min.js",
function(){if("undefined"!==typeof Hls&&Hls.isSupported()){var d=new Hls({startLevel:-1,capLevelToPlayerSize:!0});d.loadSource(a);d.attachMedia(b);d.on(Hls.Events.MANIFEST_PARSED,function(a,b){c._set_loading(!1);a=[];b=d.levels||[];for(var e=0;e<b.length;e++)a.push({index:e,height:b[e].height||0,width:b[e].width||0,bitrate:b[e].bitrate||0});a.sort(function(a,b){return b.height-a.height});c._quality_levels=a;c._build_quality_menu()});d.on(Hls.Events.ERROR,function(a,b){if(b.fatal)switch(b.type){case Hls.ErrorTypes.NETWORK_ERROR:c._show_error("Network error \u2014 retrying\u2026");
d.startLoad();break;case Hls.ErrorTypes.MEDIA_ERROR:c._show_error("Media error \u2014 recovering\u2026");d.recoverMediaError();break;default:c._show_error("Streaming error"),d.destroy()}});c._hls_instance=d}else b.src=a},"hls")};e.prototype._init_dash=function(a){var b=this.video,c=this;/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream?c._show_error("DASH streaming is not supported on this device."):m("https://cdn.dashjs.org/latest/dash.all.min.js",function(){if("undefined"===typeof dashjs)c._show_error("Failed to load DASH library");
else{var d=dashjs.MediaPlayer().create();d.initialize(b,a,!1);d.on("error",function(a){c._show_error("DASH streaming error")});c._dash_instance=d;d.on("streamInitialized",function(){var a=[];try{a=d.getRepresentationsByType("video")||[]}catch(t){"function"===typeof d.getBitrateInfoListFor&&(a=d.getBitrateInfoListFor("video")||[])}for(var b=[],e=0;e<a.length;e++){var f=a[e];b.push({index:e,height:f.height||0,width:f.width||0,bitrate:f.bitrateInKbit||f.bitrate||0})}b.sort(function(a,b){return b.height-
a.height});c._quality_levels=b;c._build_quality_menu()})}},"dash")};e.prototype._build_quality_menu=function(){if(0===this._quality_levels.length)this.quality_btn&&(this.quality_btn.style.display="none");else{this.quality_btn&&(this.quality_btn.style.display="");this.quality_menu||(this.quality_menu=document.createElement("div"),this.quality_menu.className="video-player-quality-menu",this.quality_menu.setAttribute("data-quality-menu",""),this.wrapper.appendChild(this.quality_menu));this.quality_menu.innerHTML=
"";var a=document.createElement("div");a.className="video-player-quality-menu-title";a.textContent="Quality";this.quality_menu.appendChild(a);var b=this;a=document.createElement("button");a.className="video-player-quality-menu-item active";a.textContent="Auto";a.setAttribute("type","button");a.setAttribute("data-level","-1");a.addEventListener("click",function(){b._select_quality(-1)});this.quality_menu.appendChild(a);for(a=0;a<this._quality_levels.length;a++){var c=this._quality_levels[a],d=c.height?
c.height+"p":Math.round(c.bitrate/1E3)+" kbps",e=document.createElement("button");e.className="video-player-quality-menu-item";e.textContent=d;e.setAttribute("type","button");e.setAttribute("data-level",String(c.index));(function(a){e.addEventListener("click",function(){b._select_quality(a)})})(c.index);this.quality_menu.appendChild(e)}}};e.prototype._select_quality=function(a){this._active_quality=a;this._hls_instance&&(-1===a?(this._hls_instance.currentLevel=-1,this._hls_instance.nextLevel=-1):
this._hls_instance.currentLevel=a);this._dash_instance&&(-1===a?this._dash_instance.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!0}}}}):(this._dash_instance.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!1}}}}),"function"===typeof this._dash_instance.setRepresentationForTypeByIndex?this._dash_instance.setRepresentationForTypeByIndex("video",a):"function"===typeof this._dash_instance.setQualityFor&&this._dash_instance.setQualityFor("video",a)));if(this.quality_menu)for(var b=
this.quality_menu.querySelectorAll(".video-player-quality-menu-item"),c=0;c<b.length;c++){var d=parseInt(b[c].getAttribute("data-level"),10);b[c].classList.toggle("active",d===a)}if(this.quality_btn&&(b=this.quality_btn.querySelector(".vp-quality-label")))if(-1===a)b.textContent="AUTO";else for(c=0;c<this._quality_levels.length;c++)if(this._quality_levels[c].index===a){b.textContent=this._quality_levels[c].height?this._quality_levels[c].height+"p":"Q"+a;break}this._close_quality_menu()};e.prototype._toggle_quality_menu=
function(){if(this.quality_menu){var a=this.quality_menu.classList.contains("active");this._close_captions_menu();this._close_audio_menu();a?this._close_quality_menu():this.quality_menu.classList.add("active")}};e.prototype._close_quality_menu=function(){this.quality_menu&&this.quality_menu.classList.remove("active")};e.prototype._init_text_tracks=function(){var a=this.video,b=this,c=a.textTracks;if(c)for(var d=0;d<c.length;d++)c[d].mode="hidden";a=a.querySelectorAll("track");this._text_tracks=[];
for(c=0;c<a.length;c++)d=a[c],"subtitles"!==d.kind&&"captions"!==d.kind||this._text_tracks.push({element:d,track:d.track,label:d.label||d.srclang||"Track "+(c+1),srclang:d.srclang||""});0<this._text_tracks.length&&this.cc_btn?(this._build_captions_menu(),this._text_tracks.forEach(function(a){a.track&&a.track.addEventListener("cuechange",function(){b._on_cuechange()})})):this.cc_btn&&(this.cc_btn.style.display="none")};e.prototype._build_captions_menu=function(){if(this.cc_btn&&0!==this._text_tracks.length){this.captions_menu||
(this.captions_menu=document.createElement("div"),this.captions_menu.className="video-player-captions-menu",this.captions_menu.setAttribute("data-captions-menu",""),this.wrapper.appendChild(this.captions_menu));this.captions_menu.innerHTML="";var a=document.createElement("div");a.className="video-player-captions-menu-title";a.textContent="Subtitles";this.captions_menu.appendChild(a);a=document.createElement("button");a.className="video-player-captions-menu-item active";a.textContent="Off";a.setAttribute("type",
"button");a.setAttribute("data-track-index","-1");this.captions_menu.appendChild(a);var b=this;a.addEventListener("click",function(){b._select_track(-1)});this._text_tracks.forEach(function(a,d){var c=document.createElement("button");c.className="video-player-captions-menu-item";c.textContent=a.label;c.setAttribute("type","button");c.setAttribute("data-track-index",String(d));c.addEventListener("click",function(){b._select_track(d)});b.captions_menu.appendChild(c)})}};e.prototype._select_track=function(a){this._text_tracks.forEach(function(a){a.track&&
(a.track.mode="hidden")});this._active_track=null;this.captions_menu&&this.captions_menu.querySelectorAll(".video-player-captions-menu-item").forEach(function(a){a.classList.remove("active")});if(0<=a&&a<this._text_tracks.length){var b=this._text_tracks[a];b.track&&(b.track.mode="showing",this._active_track=b);this.captions_menu&&(a=this.captions_menu.querySelector('[data-track-index="'+a+'"]'))&&a.classList.add("active");this.wrapper.classList.add("video-player-captions-active")}else this.captions_menu&&
(a=this.captions_menu.querySelector('[data-track-index="-1"]'))&&a.classList.add("active"),this.wrapper.classList.remove("video-player-captions-active");!this._active_track&&this.captions_display&&(this.captions_display.textContent="",this.captions_display.classList.remove("active"));this._close_captions_menu();this._on_cuechange()};e.prototype._toggle_captions_menu=function(){if(this.captions_menu){var a=this.captions_menu.classList.contains("active");this._close_quality_menu();this._close_audio_menu();
a?this._close_captions_menu():this.captions_menu.classList.add("active")}};e.prototype._close_captions_menu=function(){this.captions_menu&&this.captions_menu.classList.remove("active")};e.prototype._on_cuechange=function(){if(this.captions_display&&this._active_track&&this._active_track.track){var a=this._active_track.track.activeCues;a&&0<a.length?(this.captions_display.textContent=a[0].text,this.captions_display.classList.add("active")):(this.captions_display.textContent="",this.captions_display.classList.remove("active"))}else this.captions_display&&
(this.captions_display.textContent="",this.captions_display.classList.remove("active"))};e.prototype._init_audio_tracks=function(){var a=this.wrapper.getAttribute("data-audio-tracks");if(a){try{var b=JSON.parse(a)}catch(w){return}if(Array.isArray(b)&&0!==b.length){var c=this;for(a=0;a<b.length;a++){var d=b[a];if(d.url){var e=document.createElement("audio");e.preload="metadata";e.src=d.url;e.style.display="none";this.wrapper.appendChild(e);this._audio_tracks.push({url:d.url,label:d.label||"Audio "+
(a+1),lang:d.lang||"",audio_element:e})}}0!==this._audio_tracks.length&&(this.controls&&(this.audio_btn=document.createElement("button"),this.audio_btn.type="button",this.audio_btn.className="video-player-btn",this.audio_btn.setAttribute("data-audio-track-btn",""),this.audio_btn.setAttribute("aria-label","Audio Track"),this.audio_btn.innerHTML='<i class="bi bi-music-note-beamed" aria-hidden="true"></i>',this.fullscreen_btn&&this.fullscreen_btn.parentNode===this.controls?this.controls.insertBefore(this.audio_btn,
this.fullscreen_btn):this.controls.appendChild(this.audio_btn),this.audio_btn.addEventListener("click",function(){c._toggle_audio_menu()})),this._build_audio_menu(),this.video.addEventListener("play",function(){c._sync_audio_play()}),this.video.addEventListener("pause",function(){c._sync_audio_pause()}),this.video.addEventListener("seeked",function(){c._sync_audio_time()}),this.video.addEventListener("ratechange",function(){c._sync_audio_rate()}),this.video.addEventListener("volumechange",function(){c._sync_audio_volume()}))}}};
e.prototype._build_audio_menu=function(){if(0!==this._audio_tracks.length){this.audio_menu||(this.audio_menu=document.createElement("div"),this.audio_menu.className="video-player-audio-menu",this.audio_menu.setAttribute("data-audio-menu",""),this.wrapper.appendChild(this.audio_menu));this.audio_menu.innerHTML="";var a=document.createElement("div");a.className="video-player-audio-menu-title";a.textContent="Audio";this.audio_menu.appendChild(a);var b=this;a=document.createElement("button");a.className=
"video-player-audio-menu-item active";a.textContent="Default";a.setAttribute("type","button");a.setAttribute("data-audio-index","-1");a.addEventListener("click",function(){b._select_audio_track(-1)});this.audio_menu.appendChild(a);for(a=0;a<this._audio_tracks.length;a++){var c=this._audio_tracks[a],d=c.label;c.lang&&(d+=" ("+c.lang+")");var e=document.createElement("button");e.className="video-player-audio-menu-item";e.textContent=d;e.setAttribute("type","button");e.setAttribute("data-audio-index",
String(a));(function(a){e.addEventListener("click",function(){b._select_audio_track(a)})})(a);this.audio_menu.appendChild(e)}}};e.prototype._select_audio_track=function(a){for(var b=0;b<this._audio_tracks.length;b++){var c=this._audio_tracks[b].audio_element;c&&(c.pause(),c.currentTime=0)}this._active_audio_track=a;-1===a?this.video.muted=!1:(this.video.muted=!0,(b=this._audio_tracks[a])&&b.audio_element&&(b.audio_element.currentTime=this.video.currentTime,b.audio_element.volume=this.video.volume,
b.audio_element.playbackRate=this.video.playbackRate,this.video.paused||b.audio_element.play().catch(function(){})));if(this.audio_menu)for(b=this.audio_menu.querySelectorAll(".video-player-audio-menu-item"),c=0;c<b.length;c++){var d=parseInt(b[c].getAttribute("data-audio-index"),10);b[c].classList.toggle("active",d===a)}this._close_audio_menu()};e.prototype._sync_audio_play=function(){if(!(0>this._active_audio_track)){var a=this._audio_tracks[this._active_audio_track];a&&a.audio_element&&(a.audio_element.currentTime=
this.video.currentTime,a.audio_element.play().catch(function(){}))}};e.prototype._sync_audio_pause=function(){if(!(0>this._active_audio_track)){var a=this._audio_tracks[this._active_audio_track];a&&a.audio_element&&a.audio_element.pause()}};e.prototype._sync_audio_time=function(){if(!(0>this._active_audio_track)){var a=this._audio_tracks[this._active_audio_track];a&&a.audio_element&&(a.audio_element.currentTime=this.video.currentTime)}};e.prototype._sync_audio_rate=function(){if(!(0>this._active_audio_track)){var a=
this._audio_tracks[this._active_audio_track];a&&a.audio_element&&(a.audio_element.playbackRate=this.video.playbackRate)}};e.prototype._sync_audio_volume=function(){if(!(0>this._active_audio_track)){var a=this._audio_tracks[this._active_audio_track];a&&a.audio_element&&(a.audio_element.volume=this.video.volume)}};e.prototype._toggle_audio_menu=function(){if(this.audio_menu){var a=this.audio_menu.classList.contains("active");this._close_captions_menu();this._close_quality_menu();a?this._close_audio_menu():
this.audio_menu.classList.add("active")}};e.prototype._close_audio_menu=function(){this.audio_menu&&this.audio_menu.classList.remove("active")};e.prototype._bind_handlers=function(){var a=this,b=this._bound_handlers;b.play=function(){a.toggle_play()};b.progress_input=function(){a._on_progress_input()};b.progress_change=function(){a._on_progress_change()};b.progress_mouse_down=function(){a._progress_dragging=!0};b.progress_mouse_up=function(){a._progress_dragging=!1};b.mute=function(){a.toggle_mute()};
b.volume_input=function(){a._on_volume_input()};b.fullscreen=function(){a.toggle_fullscreen()};b.cc=function(){a._toggle_captions_menu()};b.quality=function(){a._toggle_quality_menu()};b.timeupdate=function(){a._sync_progress();a._update_time_display()};b.durationchange=function(){a._sync_progress();a._update_time_display()};b.progress=function(){a._sync_buffered()};b.loadstart=function(){a._set_loading(!0)};b.waiting=function(){a._set_loading(!0)};b.stalled=function(){a._set_loading(!0)};b.canplay=
function(){a._set_loading(!1);a._remove_skeleton()};b.canplaythrough=function(){a._set_loading(!1)};b.playing=function(){a._set_loading(!1);a._set_playing(!0)};b.pause=function(){a._set_playing(!1)};b.ended=function(){a._set_playing(!1);a._sync_progress()};b.error=function(){a._show_error()};b.keydown=function(b){a._on_keydown(b)};b.fullscreen_change=function(){a._sync_fullscreen_class()};b.click_outside=function(b){a._on_click_outside(b)}};e.prototype._attach_listeners=function(){var a=this,b=this.video,
c=this.wrapper,d=this._bound_handlers;this.play_btn&&this.play_btn.addEventListener("click",d.play);this.play_overlay&&this.play_overlay.addEventListener("click",d.play);this.progress_input&&(this.progress_input.addEventListener("input",d.progress_input),this.progress_input.addEventListener("change",d.progress_change),this.progress_input.addEventListener("mousedown",d.progress_mouse_down),this.progress_input.addEventListener("mouseup",d.progress_mouse_up),this.progress_input.addEventListener("touchstart",
d.progress_mouse_down),this.progress_input.addEventListener("touchend",d.progress_mouse_up));this.mute_btn&&this.mute_btn.addEventListener("click",d.mute);this.volume_input&&this.volume_input.addEventListener("input",d.volume_input);this.fullscreen_btn&&this.fullscreen_btn.addEventListener("click",d.fullscreen);this.cc_btn&&this.cc_btn.addEventListener("click",d.cc);this.quality_btn&&this.quality_btn.addEventListener("click",d.quality);b.addEventListener("timeupdate",d.timeupdate);b.addEventListener("durationchange",
d.durationchange);b.addEventListener("progress",d.progress);b.addEventListener("loadstart",d.loadstart);b.addEventListener("waiting",d.waiting);b.addEventListener("stalled",d.stalled);b.addEventListener("canplay",d.canplay);b.addEventListener("canplaythrough",d.canplaythrough);b.addEventListener("playing",d.playing);b.addEventListener("pause",d.pause);b.addEventListener("ended",d.ended);b.addEventListener("error",d.error);c.addEventListener("keydown",d.keydown);c.setAttribute("tabindex","0");c.addEventListener("click",
function(d){d.target!==c&&d.target!==b||a.toggle_play()});c.addEventListener("mousemove",function(){a._show_controls_temporarily()});c.addEventListener("mouseenter",function(){a._show_controls_temporarily()});c.addEventListener("mouseleave",function(){a.video.paused||a._hide_controls()});document.addEventListener("fullscreenchange",d.fullscreen_change);document.addEventListener("webkitfullscreenchange",d.fullscreen_change);document.addEventListener("mozfullscreenchange",d.fullscreen_change);document.addEventListener("MSFullscreenChange",
d.fullscreen_change);document.addEventListener("click",d.click_outside)};e.prototype._on_click_outside=function(a){this.wrapper.contains(a.target)||(this._close_captions_menu(),this._close_quality_menu(),this._close_audio_menu())};e.prototype.toggle_play=function(){try{this.video.paused?this.video.play():this.video.pause()}catch(a){this._show_error(a.message)}};e.prototype._set_playing=function(a){this.wrapper.classList.toggle("video-player-playing",a);this.wrapper.classList.toggle("video-player-paused",
!a);this.play_btn&&this.play_btn.setAttribute("aria-label",a?"Pause":"Play")};e.prototype._sync_progress=function(){if(this.progress_input&&!this._progress_dragging){var a=this.video,b=a.duration;!isFinite(b)||0>=b||(a=Math.min(100,Math.max(0,a.currentTime/b*100)),this.progress_input.value=String(a),this.played_bar&&(this.played_bar.style.width=a+"%"))}};e.prototype._sync_buffered=function(){if(this.buffered_bar&&this.video.buffered&&this.video.duration){var a=this.video.duration,b=this.video.buffered;
0<b.length&&(b=b.end(b.length-1),this.buffered_bar.style.width=Math.min(100,b/a*100)+"%")}};e.prototype._on_progress_input=function(){if(this.progress_input){var a=Number(this.progress_input.value),b=this.video.duration;isFinite(b)&&0<b&&(this.video.currentTime=a/100*b,this.played_bar&&(this.played_bar.style.width=a+"%"))}};e.prototype._on_progress_change=function(){this._on_progress_input()};e.prototype.toggle_mute=function(){this.video.muted=!this.video.muted;this.wrapper.classList.toggle("video-player-muted",
this.video.muted);this.mute_btn&&this.mute_btn.setAttribute("aria-label",this.video.muted?"Unmute":"Mute");this.volume_input&&(this.volume_input.value=this.video.muted?"0":String(Math.round(100*this.video.volume)))};e.prototype._on_volume_input=function(){if(this.volume_input){var a=Number(this.volume_input.value);this.video.volume=Math.min(1,Math.max(0,a/100));this.video.muted=0===a;this.wrapper.classList.toggle("video-player-muted",this.video.muted)}};e.prototype.toggle_fullscreen=function(){var a=
this.wrapper;try{this._is_fullscreen()?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():a.requestFullscreen?a.requestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen&&a.msRequestFullscreen()}catch(b){this._show_error("Fullscreen not supported")}};
e.prototype._is_fullscreen=function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)};e.prototype._sync_fullscreen_class=function(){var a=this._is_fullscreen()&&(document.fullscreenElement===this.wrapper||document.webkitFullscreenElement===this.wrapper||document.mozFullScreenElement===this.wrapper||document.msFullscreenElement===this.wrapper);this.wrapper.classList.toggle("video-player-fullscreen",!!a);this.fullscreen_btn&&
this.fullscreen_btn.setAttribute("aria-label",a?"Exit fullscreen":"Fullscreen")};e.prototype._set_loading=function(a){this.wrapper.classList.toggle("is-loading",a)};e.prototype._remove_skeleton=function(a){if(!this._skeleton_removed){this._skeleton_removed=!0;this.wrapper.classList.remove("video-player--skeleton");var b=this.wrapper.querySelector(".vp-skeleton");b&&(a?b.parentNode&&b.parentNode.removeChild(b):(b.style.transition="opacity 0.35s ease",b.style.opacity="0",setTimeout(function(){b.parentNode&&
b.parentNode.removeChild(b)},350)))}};e.prototype._show_error=function(a){a=a||this.video.error&&this.video.error.message||"Video error";if(this.error_element){this.error_element.textContent=a;this.error_element.hidden=!1;var b=this;setTimeout(function(){b.error_element&&(b.error_element.hidden=!0)},5E3)}};e.prototype._update_time_display=function(){if(this.time_display){var a=this.video.currentTime||0,b=this.video.duration;isFinite(b)&&0<b?this.time_display.textContent=k(a)+" / "+k(b):this.time_display.textContent=
k(a)}};e.prototype._show_controls_temporarily=function(){var a=this;this.wrapper.classList.add("video-player-controls-visible");this._mouse_move_timeout&&clearTimeout(this._mouse_move_timeout);this.video.paused||(this._mouse_move_timeout=setTimeout(function(){a._hide_controls()},3E3))};e.prototype._hide_controls=function(){this.wrapper.classList.remove("video-player-controls-visible");this._mouse_move_timeout&&(clearTimeout(this._mouse_move_timeout),this._mouse_move_timeout=null)};e.prototype._on_keydown=
function(a){var b=a.target;if(("INPUT"!==b.tagName||b===this.progress_input||b===this.volume_input)&&("BUTTON"!==b.tagName||this.wrapper.contains(b))&&this.wrapper.contains(b)){b=!1;switch(a.key){case " ":case "Spacebar":a.preventDefault();this.toggle_play();b=!0;break;case "k":case "K":a.preventDefault();this.toggle_play();b=!0;break;case "f":case "F":a.preventDefault();this.toggle_fullscreen();b=!0;break;case "m":case "M":a.preventDefault();this.toggle_mute();b=!0;break;case "c":case "C":a.preventDefault();
this.cc_btn&&this._toggle_captions_menu();b=!0;break;case "ArrowLeft":a.preventDefault();this.video.currentTime=Math.max(0,this.video.currentTime-10);b=!0;break;case "ArrowRight":a.preventDefault();this.video.currentTime=Math.min(this.video.duration||0,this.video.currentTime+10);b=!0;break;case "ArrowUp":a.preventDefault();this.video.volume=Math.min(1,this.video.volume+.1);this.volume_input&&(this.volume_input.value=String(Math.round(100*this.video.volume)));b=!0;break;case "ArrowDown":a.preventDefault();
this.video.volume=Math.max(0,this.video.volume-.1);this.volume_input&&(this.volume_input.value=String(Math.round(100*this.video.volume)));b=!0;break;case "Escape":case "Esc":this._is_fullscreen()&&(a.preventDefault(),this.toggle_fullscreen(),b=!0);this._close_captions_menu();break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":isFinite(this.video.duration)&&0<this.video.duration&&(a.preventDefault(),a=parseInt(a.key)/10,this.video.currentTime=this.video.duration*
a,b=!0)}b&&this._show_controls_temporarily()}};e.prototype._sync_ui=function(){this._set_playing(!this.video.paused);this.wrapper.classList.toggle("video-player-muted",this.video.muted);this.volume_input&&(this.volume_input.value=String(this.video.muted?0:Math.round(100*this.video.volume)));this._sync_progress();this._sync_buffered();this._sync_fullscreen_class();this._update_time_display()};e.prototype.destroy=function(){var a=this._bound_handlers,b=this.video,c=this.wrapper;this._hls_instance&&
(this._hls_instance.destroy(),this._hls_instance=null);this._dash_instance&&(this._dash_instance.reset(),this._dash_instance=null);if(this._audio_tracks){for(var d=0;d<this._audio_tracks.length;d++){var e=this._audio_tracks[d].audio_element;e&&(e.pause(),e.src="",e.parentNode&&e.parentNode.removeChild(e))}this._audio_tracks=[]}this._controls_timeout&&clearTimeout(this._controls_timeout);this._mouse_move_timeout&&clearTimeout(this._mouse_move_timeout);this.play_btn&&this.play_btn.removeEventListener("click",
a.play);this.play_overlay&&this.play_overlay.removeEventListener("click",a.play);this.progress_input&&(this.progress_input.removeEventListener("input",a.progress_input),this.progress_input.removeEventListener("change",a.progress_change),this.progress_input.removeEventListener("mousedown",a.progress_mouse_down),this.progress_input.removeEventListener("mouseup",a.progress_mouse_up),this.progress_input.removeEventListener("touchstart",a.progress_mouse_down),this.progress_input.removeEventListener("touchend",
a.progress_mouse_up));this.mute_btn&&this.mute_btn.removeEventListener("click",a.mute);this.volume_input&&this.volume_input.removeEventListener("input",a.volume_input);this.fullscreen_btn&&this.fullscreen_btn.removeEventListener("click",a.fullscreen);this.cc_btn&&this.cc_btn.removeEventListener("click",a.cc);this.quality_btn&&this.quality_btn.removeEventListener("click",a.quality);b.removeEventListener("timeupdate",a.timeupdate);b.removeEventListener("durationchange",a.durationchange);b.removeEventListener("progress",
a.progress);b.removeEventListener("loadstart",a.loadstart);b.removeEventListener("waiting",a.waiting);b.removeEventListener("stalled",a.stalled);b.removeEventListener("canplay",a.canplay);b.removeEventListener("canplaythrough",a.canplaythrough);b.removeEventListener("playing",a.playing);b.removeEventListener("pause",a.pause);b.removeEventListener("ended",a.ended);b.removeEventListener("error",a.error);c.removeEventListener("keydown",a.keydown);document.removeEventListener("fullscreenchange",a.fullscreen_change);
document.removeEventListener("webkitfullscreenchange",a.fullscreen_change);document.removeEventListener("mozfullscreenchange",a.fullscreen_change);document.removeEventListener("MSFullscreenChange",a.fullscreen_change);document.removeEventListener("click",a.click_outside);delete c._custom_video_player};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",l):l();window.CustomVideoPlayer=e;window.init_custom_video_players=l})();
